<script src="../../bower_components/page/page.js"></script>
<script>
  window.addEventListener('WebComponentsReady', function() {

    page('/', function () {
        page.redirect('/careers');
    });

    page('/:route', function (data) {
      // Set view via route
      var route = data.params.route;
      if(!app.route){
        app.route = route;
        return false;
      }

      // Unfocus previous page
      $('[data-route]').removeClass('focused');

      // Show pop-up on firstRun
      if(route == 'careers' && firstRun){
        var dialog = document.getElementById('dbdialog');
        dialog.open();
        firstRun = false;
      }
      else{
        $('#mainContainer').animate({scrollTop: scroll},500);
      }

      // Focus current page
      $('[data-route="'+route+'"').addClass('focused');
    });

    // add #! before urls
    page({
      hashbang: true
    });

  });
</script>
